#include "swaggerui.h"
#include "web_server.h"


const char * swaggerJSON = "{\"swagger\":\"2.0\",\"info\":{\"title\":\"Classics Adapter API\",\"description\":\"API for interacting with the Bang & Olufsen Classics Adapter\",\"version\":\"1.0.0\"},\"host\":\"192.168.1.45\",\"tags\":[{\"name\":\"System\"}],\"paths\":{\"/api/system/info\":{\"get\":{\"tags\":[\"System\"],\"description\":\"Returns system info\",\"operationId\":\"getSystemInfo\",\"responses\":{\"200\":{\"description\":\"String with system info\",\"schema\":{\"$ref\":\"#/definitions/systemInfo\"}}}}}},\"definitions\":{\"systemInfo\":{\"type\":\"object\",\"properties\":{\"Chip\":{\"type\":\"string\"},\"Silicon revision\":{\"type\":\"integer\"},\"Number of cores\":{\"type\":\"integer\"},\"Flash size\":{\"type\":\"string\"},\"Features\":{\"type\":\"string\"}}}}}";
const char * swaggerUI = "<!doctype html><html><head><meta charset=UTF-8><meta content=IE=edge http-equiv=x-ua-compatible><title>Swagger UI</title><link href=https://cdnjs.cloudflare.com/ajax/libs/meyer-reset/2.0/reset.min.css media=screen rel=stylesheet><link href=https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/2.2.10/css/screen.css media=screen rel=stylesheet><script>if(typeof Object.assign!='function'){(function(){Object.assign=function(a){'use strict';if(a===undefined||a===null){throw new TypeError('Cannot convert undefined or null to object')};var b=Object(a);for(var c=1;c<arguments.length;c++){var d=arguments[c];if(d!==undefined&&d!==null){for(var e in d){if(Object.prototype.hasOwnProperty.call(d,e)){b[e]=d[e]}}}};return b}})()}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery/1.8.0/jquery-1.8.0.min.js></script><script>(function(a){a.fn.slideto=function(b){b=a.extend({slide_duration:\"slow\",highlight_duration:3E3,highlight:true,highlight_color:\"#FFFF99\"},b);return this.each(function(){obj=a(this);a(\"body\").animate({scrollTop:obj.offset().top},b.slide_duration,function(){b.highlight&&a.ui.version&&obj.effect(\"highlight\",{color:b.highlight_color},b.highlight_duration)})})}})(jQuery)</script><script>jQuery.fn.wiggle=function(a){var b={speed:50,wiggles:3,travel:5,callback:null};var a=jQuery.extend(b,a);return this.each(function(){var c=this;var d=jQuery(this).wrap('<div class=\"wiggle-wrap\"></div>').css(\"position\",\"relative\");var e=0;for(i=1;i<=a.wiggles;i++){jQuery(this).animate({left:\"-=\"+ a.travel},a.speed).animate({left:\"+=\"+ a.travel*2},a.speed*2).animate({left:\"-=\"+ a.travel},a.speed,function(){e++;if(jQuery(c).parent().hasClass('wiggle-wrap')){jQuery(c).parent().replaceWith(c)};if(e==a.wiggles&&jQuery.isFunction(a.callback)){a.callback()}})}})}</script><script src=https://cdnjs.cloudflare.com/ajax/libs/jquery.ba-bbq/1.2.1/jquery.ba-bbq.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/handlebars.js/4.0.5/handlebars.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/lodash-compat/3.10.1/lodash.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/backbone.js/1.1.2/backbone-min.js></script><script>Backbone.View=(function(a){return a.extend({constructor:function(b){this.options=b||{};a.apply(this,arguments)}})})(Backbone.View)</script><script src=https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/2.2.10/swagger-ui.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/highlight.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/highlight.js/9.10.0/languages/json.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/json-editor/0.7.28/jsoneditor.min.js></script><script src=https://cdnjs.cloudflare.com/ajax/libs/marked/0.3.6/marked.min.js></script><script>$(function(){url=\"http://192.168.1.45/swagger.json\";hljs.configure({highlightSizeThreshold:5000});window.swaggerUi=new SwaggerUi({url:url,dom_id:\"swagger-ui-container\",supportedSubmitMethods:['get','post','put','delete','patch'],validatorUrl:null,onComplete:function(b,c){},onFailure:function(b){a(\"Unable to Load SwaggerUI\")},docExpansion:\"none\",jsonEditor:false,defaultModelRendering:'schema',showRequestHeaders:false,showOperationIds:false});window.swaggerUi.load();function a(){if('console' in window){console.log.apply(console,arguments)}}})</script><body class=swagger-section><div id=header><div class=swagger-ui-wrap><a href=http://swagger.io id=logo><img alt=swagger class=logo__img height=30 src=https://cdnjs.cloudflare.com/ajax/libs/swagger-ui/2.2.10/images/logo_small.png width=30><span class=logo__title>swagger</span></a><form id=api_selector></form></div></div><div class=swagger-ui-wrap data-sw-translate id=message-bar>Â </div><div class=swagger-ui-wrap id=swagger-ui-container></div>";

esp_err_t swagger_json_get_handler(httpd_req_t *req)
{
    httpd_resp_send(req, swaggerJSON, HTTPD_RESP_USE_STRLEN);
    return ESP_OK;
}

esp_err_t swaggerui_get_handler(httpd_req_t *req)
{
    httpd_resp_send(req, swaggerUI, HTTPD_RESP_USE_STRLEN);
    return ESP_OK;
}

void swaggerui_init(void)
{
    webserver_register_uri("/swagger.json", HTTP_GET, swagger_json_get_handler);
    webserver_register_uri("/swaggerui", HTTP_GET, swaggerui_get_handler);
}